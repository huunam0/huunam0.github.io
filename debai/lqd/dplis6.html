<div class="problem-title">
<h2 style="color:#393630; display: inline-block">Dãy đổi dấu</h2>
</div><div class="content-description screen">
<div><p>Cho dãy \(A\) gồm \(N\) phần tử gồm các số nguyên dương \(A_1, A_2, ..., A_N\). Dãy \(C\) được gọi là dãy con đổi dấu độ dài \(K\) của dãy \(A\) nếu tồn tại dãy chỉ số:</p>
<ul>
<li>\(1 \leq i_1 &lt; i_2 &lt; ... &lt; i_K \leq N\).</li>
<li>Nếu \(K &gt; 1\) thì \(C_{i_1} &gt; C_{i_2} &lt; C_{i_3} &gt; ...\) hoặc \(C_{i_1} &lt; C_{i_2} &gt; C_{i_3} &lt; ...\)</li>
</ul>
<p><strong>Yêu cầu</strong>: Tìm dãy con đổi dấu \(C\) với \(K\) lớn nhất có thể.</p>
<p><strong>Dữ liệu vào</strong>: Gồm hai dòng:</p>
<ul>
<li>Dòng đầu tiên chứa số nguyên dương \(N\).</li>
<li>Dòng thứ hai chứa \(N\) số nguyên dương \(A_1, A_2, ..., A_N\). \((A_i \leq 10^9)\).</li>
</ul>
<p><strong>Kết quả</strong>: Gồm hai dòng:</p>
<ul>
<li>Dòng đầu tiên chứa số \(K\) là độ dài dãy con đổi dấu \(C\) dài nhất.</li>
<li>Dòng thứ hai in ra \(K\) số nguyên dương \(C_1, C_2, ..., C_K\). Nếu có nhiều dãy \(C\) thoả mãn, in ra một dãy bất kỳ. </li>
</ul>
<p><strong>Ràng buộc</strong>:</p>
<ul>
<li>\(50\)% số test đầu tiên tương ứng với \(50\)% số điểm có \(N \leq 10^3\).</li>
<li>\(50\)% số test còn lại tương ứng với \(50\)% số điểm có \(N \leq 10^5\).</li>
<li>Nếu in ra được số \(K\) là độ dài dãy con đổi dấu \(C\) dài nhất thì sẽ được \(50\)% số điểm của test. Nếu in ra thêm được một dãy \(C\) tương ứng mà đúng thì sẽ được công thêm \(50\)% số điểm của test.</li>
</ul>
<p><strong>Ví dụ</strong>:</p>
<p><strong>Input</strong>:</p>
<pre><code>6
2 6 4 3 5 7</code></pre>
<p><strong>Output</strong>:</p>
<pre><code>4
2 4 3 5</code></pre>
</div>
<hr/>
</div>