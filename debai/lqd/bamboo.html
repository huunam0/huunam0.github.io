<div class="problem-title">
<h2 style="color:#393630; display: inline-block">Vác tre</h2>
</div><div class="content-description screen">
<div><p>Để chuẩn bị làm một cây đàn T’rưng cần tìm được cây tre hoặc vầu cái, có đốt dài và đều, dáng
thuôn, không có lỗi như nứt, lỗ sâu, . . . Tóm lại, tìm được một cây ưng ý là
rất khó. Một nghệ nhân, khi vào rừng hái lá thuốc tìm một cây tre rất ưng ý,
nhưng đường đi ra phải qua một hẻm núi độ rộng \(n\) và dài \(m\) bước chân.</p>
<p>Có thể coi hẻm núi như lưới ô vuông \(n×m\), một số ô có đá cao. Cây tre vác
trên vai nên khi đi nó sẽ song song với một cạnh của hẻm núi. Cần phải đi từ
trái sang phải. Có thể vào hẻm từ ô bất kỳ bên trái với cây tre song song cạnh
trái. Khi cây tre đang ở hướng dọc, chỉ có thể di chuyển dọc lên trên hoặc
xuống dưới, nếu cây tre đang ở hướng ngang – chỉ có thể di chuyển sang trái
hoặc phải. Trong trường hợp cần chuyển hướng có thể chống một đầu cây tre xuống đất, dựng
thẳng đứng và cho đổ sang hướng song song với cạnh kia. Dĩ nhiên tre phải được nằm trên các ô
không có đá cao. Để ra khỏi hẻm núi phải tới được ô ở cạnh phải với cây tre nằm song song cạnh
này. Cần chặt cây tre thành các đoạn ngắn để mang về. Các đoạn đó phải càng dài càng tốt để có
nhiều lựa chọn cắt khúc khi làm đàn.</p>
<p>Trạng thái hẻm núi được thể hiện bằng bảng ký tự kích thước \(n×m\), ký tự <code>.</code> chỉ vị trí trống, <code>#</code>
chỉ ô có đá.</p>
<p>Hãy xác định độ dài lớn nhất của đoạn tre có thể mang qua (đơn vị độ dài là cạnh của ô).</p>
<p><strong>Dữ liệu</strong></p>
<ul>
<li>Dòng đầu tiên chứa 2 số nguyên \(n\) và \(m\) (\(1 ≤ n, m ≤ 300\)),</li>
<li>Mỗi dòng trong \(n\) dòng sau chứa xâu \(s\) độ dài \(m\) mô tả trạng thái một dòng của hẻm núi.</li>
</ul>
<p><strong>Kết quả</strong></p>
<ul>
<li>Đưa ra một số nguyên – độ dài lớn nhất của đoạn tre có thể mang qua.</li>
</ul>
<p><strong>Sample input</strong></p>
<pre><code>3 5
...##
.#.#.
##...</code></pre>
<p><strong>Sample output</strong></p>
<pre><code>2</code></pre>
<hr/>
<p><em>Nguồn: Thầy Tùng</em></p>
</div>
<hr/>
</div>