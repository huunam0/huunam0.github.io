<div class="problem-title">
<h2 style="color:#393630; display: inline-block">Dạ hội</h2>
</div><div class="content-description screen">
<div><p>Dạ hội cuối năm (prom) là một sự kiện trọng đại trước khi kết thúc năm học ở trường THPT chuyên Lê Quý Đôn. Vì đã là năm cuối cấp nên Minh Huy quyết tâm mời cho bằng được chị Constant tham gia khiêu vũ cùng mình. Tiếc thay, chị Constant đã nhận lời mời làm bạn nhảy của chuyên gia tin học Flow God (dưới tư cách cựu học sinh) nên đành phải từ chối Minh Huy. Không bỏ cuộc, Minh Huy liên tục đưa ra những hứa hẹn đầy hấp dẫn để lôi kéo khiến chị Constant phải đôi chút xiêu lòng: Chị Constant đồng ý hủy hẹn với Flow God để đi với Minh Huy nếu như cậu có thể tính được <strong>số lượng</strong> dãy con có <em>độ cồng kềnh</em> nhỏ nhất trong một dãy số.</p>
<p>Với một dãy số nguyên dương gồm \(n\) số \(a_1, a_2, ..., a_n\), <em>độ cồng kềnh</em> của một dãy con liên tiếp \(a_i, a_{i + 1}, ..., a_j\) là hiệu của số lớn nhất trong dãy và số nhỏ nhất trong dãy. Ví dụ: độ cồng kềnh của \([1, 3, 2]\) là \(3 - 1 = 2\).</p>
<p>Chị Constant muốn tìm dãy con liên tiếp có độ cồng kềnh nhỏ nhất có thể, và tổng quát hơn, đếm xem có bao nhiêu dãy con liên tiếp có độ cồng kềnh nhỏ nhất như thế. Bạn hãy giúp Minh Huy giải đáp lời thách đố này để được dự prom cùng chị Constant nhé!</p>
<h4>Input</h4>
<p>Dòng đầu tiên chứa một số nguyên dương \(n\)</p>
<p>Dòng thứ hai chứa \(n\) số nguyên dương \(a_1, a_2, ..., a_n \ (1 \leq a_i \leq n)\)</p>
<h4>Output</h4>
<p>In ra một số nguyên dương, là số lượng dãy con liên tiếp có <em>độ cồng kềnh</em> nhỏ nhất.</p>
<h4>Sample Input</h4>
<pre><code>3
1 1 1</code></pre>
<h4>Sample Output</h4>
<pre><code>6</code></pre>
<h4>Giải thích</h4>
<p>Có \(6\) dãy con có độ cồng kềnh bằng \(0: [a_1], [a_2], [a_3], [a_1, a_2], [a_2, a_3], [a_1, a_2, a_3]\)</p>
<h4>Ràng buộc</h4>
<ul>
<li>30% test có \(n \leq 300\).</li>
<li>30% test có \(n \leq 3,000\).</li>
<li>40% test có \(n \leq 300,000\).</li>
</ul>
</div>
<hr/>
</div>