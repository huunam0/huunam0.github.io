<div class="problem-title">
<h2 style="color:#393630; display: inline-block">Tích Dãy Số</h2>
</div><div class="content-description screen">
<div><p><strong>Uzumaki <span class="rating rate-candidate-master user"><a href="/user/algorit">algorit</a></span></strong> nổi tiếng là \(1\) ninja nổi tiếng có rất nhiều nhẫn thuật mạnh, không chỉ thế anh còn sở hữu tuyệt kĩ thông não chi thuật mà cho dù kẻ thù mạnh đến thế nào cũng sẽ bị tẩy não. Trận chiến với <strong>Madara</strong> lần này cũng không phải ngoại lệ, sau khi đã ăn \(1\) rổ hành từ <strong>Madara</strong> không còn cách nào khác <span class="rating rate-candidate-master user"><a href="/user/algorit">algorit</a></span> đành phải dùng chiêu thông não chi thuật của mình. Tiếc thay lần này <strong>Madara</strong> lại là \(1\) kẻ địch rất cứng rắn nên dù có thuyết phục hay tẩy não thế nào cũng không có tác dụng. Trong lúc tưởng chừng như chẳng còn hi vọng nào thì bỗng ông bụt hiện ra, bụt nói nếu <span class="rating rate-candidate-master user"><a href="/user/algorit">algorit</a></span> giải được bài toán này thì có thể thông não <strong>Madara</strong>.</p>
<p>Bài toán là Cho dãy số nguyên gôm n phần tử , \(A_1 , A_2 , ... , A_n\).</p>
<p>Chúng ta có thể biến đổi \(k\) lần , với các lần biến đổi là chọn một phần tử của mảng đó tăng lên \(x\) đơn vị hoặc giảm đi \(x\) đơn vị . Hãy biến đổi tối ưu sao cho tích của mảng đạt kết quả lớn nhất .</p>
<p><span class="rating rate-candidate-master user"><a href="/user/algorit">algorit</a></span> vì mãi lo nghĩ cho thằng bạn của mình là <strong><em>Uchiha </em></strong><span class="rating rate-master user"><a href="/user/bin9638">bin9638</a></span> nên đã quên hết kiến thức toán rồi. Hãy giúp <span class="rating rate-candidate-master user"><a href="/user/algorit">algorit</a></span> nhé !</p>
<ul>
<li><strong>Yêu cầu :</strong> </li>
<li><strong>Input : </strong> <ul>
<li>Dòng đầu tiên gồm \(3\) số nguyên dương \(n , k , x , mod . ( n \le 3*10^5 , k \le 3*10^5 , x \le 10^{12} , mod \le 10^{18}\))</li>
<li>Dòng thứ hai là dãy số \(A_1 , A_2 , ... , A_n\) . (\(|A_i| \le 10^{12}\))</li>
</ul>
</li>
<li><p><strong>Output :</strong> <em>Là một số nguyên duy nhất , là kết quả của bài toán , vì kết quả của bài toán rất lớn nên kết quả sẽ được lấy dư khi chia cho \(mod\).</em></p>
</li>
<li><p><strong>Lưu ý :</strong></p>
<ul>
<li>Làm cẩn thận nha ;-;</li>
<li>Tìm hiểu kĩ định nghĩa chia lấy dư trước nhé ^^</li>
</ul>
</li>
<li><strong>Sample_input</strong> :
<pre><code>5 1 3 101
2 2 2 2 2</code></pre>
</li>
<li><strong>Sample_output</strong> :
<pre><code>80</code></pre>
</li>
<li><strong>Giải thích</strong> :<ul>
<li>Trong trường hợp này , chúng ta sẽ chọn một số bất kì và tăng nó lên 3 , do đó kết quả là \(2 * 2 * 2 * 2 * 5 = 80\) .</li>
</ul>
</li>
<li><strong>Giới hạn</strong> :<ul>
<li><em>20% số điểm tương ứng với : \( (n , k , x , |A_i|) \le 10^3 , mod = 10^9 + 7.\)</em></li>
<li><em>20% số điểm tương ứng với : \( n\) và \(k \le 2.10^5 , |A_i|\) và \(x \le 10^9, mod = 10^9 + 7.\)</em></li>
<li><em>60% số điểm còn lại không có ràng buộc gì thêm .</em></li>
</ul>
</li>
</ul>
</div>
<hr/>
</div>