<div class="problem-title">
<h2 style="color:#393630; display: inline-block">SubSequence</h2>
</div><div class="content-description screen">
<div><p>An đang tìm kiếm các dãy con biến đổi của một dãy cho trước \(a = (a_1, a_2, …, a_n)\).</p>
<p>Với một dãy số, nếu An bỏ bớt một số phần tử bất kỳ nào của nó (có thể số lượng bỏ bớt là 0) thì thu được một dãy con của nó. Cụ thể hơn, dãy con của dãy \(a\) là dãy bất kỳ (\(a_{i_1}, a_{i_2}, ... , a_{i_k}\)), trong đó \(1 ≤ i_1 &lt; i_2 &lt; … &lt; i_k ≤ n\).</p>
<p>Một dãy con biến đổi là một dãy con mà cứ hai phần tử đứng cạnh nhau thì khác nhau. Ví dụ, dãy (\(1, 3, 1, 2\)) là dãy con biến đổi của dãy (\(1, 2, 3, 1, 3, 2, 2\)). Giờ An muốn biết có bao nhiêu dãy con biến đổi riêng biệt và khác rỗng của một dãy cho trước. Hai dãy con được xem là riêng biệt nếu vị trí tương ứng với chúng trong dãy \(a\) là khác nhau. Ví dụ, dãy (\(1, 2, 3, 1, 3, 2, 2\)) có 2 dãy con biến đổi riêng biệt cùng có dạng là (\(1, 3, 1, 2\)).</p>
<p><strong>Dữ liệu vào</strong></p>
<ul>
<li>Dòng đầu tiên chứa 1 số nguyên \(n\) (\(2 ≤ n ≤ 5 \times 10^5\)) cho biết độ dài của dãy \(a\). </li>
<li>Dòng thứ hai có \(n\) số nguyên \(ai\) (\(1 ≤ ai ≤ 5 \times 10^5\)).</li>
</ul>
<p><strong>Kết quả</strong></p>
<ul>
<li>Một dòng in một số nguyên duy nhất: số lượng các dãy con biến đổi khác rỗng của dãy đầu vào theo \(modun\ 10^9 + 7\). </li>
</ul>
<p><strong>Sample Input</strong></p>
<pre><code>4
1 2 1 1</code></pre>
<p><strong>Sample Output</strong></p>
<pre><code>9</code></pre>
<hr/>
<p><em>Nguồn: 2020 Thi thử Online lần 1</em></p>
</div>
<hr/>
</div>