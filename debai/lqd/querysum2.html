<div class="problem-title">
<h2 style="color:#393630; display: inline-block">Query-Sum 2</h2>
</div><div class="content-description screen">
<div><p>Cho dãy \(A\) gồm \(N\) phần tử là các số nguyên dương \(A_1, A_2, ..., A_N\). Cho \(Q\) thao tác thực hiện lần lượt, thao tác thứ \(i\) sẽ có một trong hai loại như sau:</p>
<ul>
<li>\(1\) \(u_i\) \(v_i\) \(x_i\): Tăng mỗi phần tử từ vị trí \(u_i\) tới vị trí \(v_i\) lên \(x_i\) đơn vị.</li>
<li>\(2\) \(u_i\) \(v_i\): Tính tổng các phần tử từ vị trí \(u_i\) tới vị trí \(v_i\).</li>
</ul>
<h4>Yêu cầu</h4>
<p>Thực hiện tất cả lần lượt \(Q\) thao tác, và in ra kết quả của thao tác loại \(2\).</p>
<h4>Dữ liệu vào</h4>
<ul>
<li>Dòng thứ nhất gồm hai số nguyên dương \(N, Q\).</li>
<li>Dòng thứ hai gồm \(N\) số nguyên dương \(A_1, A_2, ..., A_N\) \((A_i \leq 10^9)\).</li>
<li>\(Q\) dòng tiếp theo, với dòng thứ \(i\): số đầu tiên trên dòng là \(1\) hoặc \(2\). Số \(1\) theo sau bởi ba số nguyên dương \(u_i\), \(v_i\) và \(x_i\) \((1 \leq u_i \leq v_i \leq N\), \(1 \leq x_i \leq 10^9)\). Số \(2\) theo sau bởi hai số nguyên dương \(u_i\) và \(v_i\) \((1 \leq u_i \leq v_i \leq N)\). </li>
</ul>
<h4>Kết quả</h4>
<p>Với thao tác loại \(2\) có dạng \(2\) \(u\) \(v\), in ra tổng các phần tử từ vị trí \(u\) tới vị trí \(v\) trên một dòng.</p>
<h4>Ràng buộc</h4>
<ul>
<li>\(30\%\) số test đầu tiên tương ứng với \(30\%\) số điểm có \(N \leq 10^3\), \(Q \leq 10^3\).</li>
<li>\(30\%\) số test tiếp theo tương ứng với \(30\%\) số điểm có \(N \leq 10^5\), \(Q \leq 10^5\), mọi thao tác loại \(1\) có \(u = v\).</li>
<li>\(40\%\) số test còn lại tương ứng với \(40\%\) số điểm có \(N \leq 10^5\), \(Q \leq 10^5\).</li>
</ul>
<h4>Ví dụ</h4>
<p><strong>Input</strong>:</p>
<pre><code>5 4
1 4 6 2 3
2 1 4
1 2 5 3
1 3 4 5
2 3 5</code></pre>
<p><strong>Output</strong>:</p>
<pre><code>13
30</code></pre>
</div>
<hr/>
</div>