<h2>NKMOU - IOI05 Mountains</h2><div class="prob">
	Đọc đề đẹp hơn ở: <a href="https://codeforces.com/group/FLVn1Sc504/contest/274824/problem/U" target="_blank"> https://codeforces.com/group/FLVn1Sc504/contest/274824/problem/U </a>
<table class="problems" width="100%"><tr class="navigation">
<td width="50%"><a href="/problems/NKMOU/en/">English</a></td>
<td width="50%"><a href="/problems/NKMOU/vn/">Vietnamese</a></td>
</tr></table>
<p>Một công viên giải trí vừa mở trò chơi tàu lượn siêu tốc thế hệ mới. Đường ray tàu lượn bao gồm n thanh ray gắn với 

nhau. Đoạn đầu của thanh ray thứ nhất được cố định tại cao độ 0. Byteman, người điều hành, có thể điều chỉnh lại đường 

ray tàu lượn theo ý muốn bằng cách điều chỉnh <b>độ thay đổi cao độ</b> của một dãy các thanh ray liên tiếp. Độ thay 

đổi cao độ của các thanh ray khác không bị thay đổi. Mỗi khi các thanh ray được điều chỉnh, đường ray được nâng lên 

hoặc hạ xuống để nối các thanh ray trong khi vẫn giữ điểm đầu ở cao độ 0. Hình vẽ dưới đây minh họa 2 ví dụ về điều 
chỉnh đường ray.</p>
<p>Mỗi chuyến tàu được thực hiện bằng cách khởi động xe với đủ năng lượng để đạt đến độ cao h. Nghĩa là xe sẽ tiếp tục 

di chuyển đến khi nào độ cao của đường ray không vượt quá h và chưa đi hết đường ray.</p>
<p>Cho biết thông tin về các chuyến tàu và các điều chỉnh đường ray trong ngày, với mỗi chuyến tàu hãy tính số thanh ray 

xe di chuyển trước khi dừng lại.</p>
<p>Đường ray được mô tả dưới dạng một dãy gồm n độ thay đổi cao độ, mỗi giá trị tương ứng với một thanh ray. Số thứ i 

d<sub>i</sub> mô tả độ thay đổi cao độ (tính theo cm) của thanh ray thứ i. Giả sử sau khi di chuyển trên i-1 thanh ray xe 

đạt đến độ cao h thì sau khi di chuyển trên i thanh ray, xe sẽ đạt đến độ cao h+d<sub>i</sub> cm.</p>
<p>Ban đầu tất cả các thanh ray đều nằm ngang, nghĩa là d<sub>i</sub> =0 với mọi i. Các chuyến tàu và điều chỉnh đường 

ray diễn ra xen kẽ nhau trong ngày. Mỗi điều chỉnh được đặc trưng bởi 3 số: a, b và D. Đoạn ray được điều chỉnh bao gồm 

các thanh ray từ a đến b. Độ thay đổi cao độ của mỗi thanh ray trong đoạn được đặt bằng D. Nghĩa là d<sub>i</sub>=D 

với mọi a ≤ i ≤ b. Mỗi chuyến tàu được đặc trưng bởi 1 số nguyên h cho biết cao độ lớn nhất mà xe đạt được.</p>
<h3>Dữ liệu</h3>
<p>Dòng đầu tiên chứa số nguyên n - số thanh ray (1 ≤ n ≤ 1000000000). Các dòng tiếp theo chứa thông tin về các điều 

chỉnh đường ray xen kẽ với các chuyến tàu. Mỗi dòng có 1 trong các dạng: </p>
<ul>
<li>Điều chỉnh - một chữ cái 'I' và 3 số nguyên a, b, D, cách nhau bởi khoảng trắng (1 ≤ a ≤ b ≤ n, -1000000000 ≤ D ≤ 

1000000000).</li>
<li>Chuyến tàu - một chữ cái 'Q' và số nguyên h (0 ≤  h ≤ 1000000000) cách nhau bởi khoảng trắng.</li>
<li>Một chữ cái 'E' - đánh dấu kết thúc chương trình.</li>
</ul>
<p>Tại mỗi thời điểm, cao độ của bất kỳ điểm nào trên đường ray được đảm bảo thuộc đoạn [0, 1000000000]. Dữ liệu 

vào chứa không quá 100000 dòng.</p>
<p>50% số test có n thỏa mãn 1 ≤ n ≤ 20000 và dữ liệu vào có không quá 1000 dòng.</p>
<h3>Kết qủa</h3>
<p>Dòng thứ i chứa 1 số nguyên - là số thanh ray xe di chuyển trong chuyến tàu thứ i.</p>
<h3>Ví dụ</h3>
<pre>
<b>Dữ liệu:</b>
4
Q 1
I 1 4 2
Q 3
Q 1
I 2 2 -1
Q 3
E

<b>Kết qủa</b>
4
1
0
3
</pre>
<p><img height="535" src="https://www.spoj.com/content/paulmcvn:mou.jpg" width="470"/></p>
<p>Đường ray trước và sau mỗi điều chỉnh. Trục x biểu diễn các thanh ray. Trục y và số trên các điểm biểu diễn cao độ. 

Số trên các đoạn biểu diễn độ thay đổi cao độ.</p>
</div>