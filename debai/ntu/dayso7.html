<html><body><div class="tm-box2">
<div class="problem-name">
    DAYSO7 - Dãy số (OLP Không chuyên 2014) 
</div>



<div class="problem-param">
    Giới hạn thời gian: 2.0 giây
</div>
<div class="problem-param">
    Giới hạn bộ nhớ: 128 megabyte
</div>

<br/>
<div class="problem-content">
<p>Cho dãy số gồm n số nguyên a<sub>1</sub>, a<sub>2</sub>, …, a<sub>n</sub>. Một đoạn con của dãy đã cho là dãy a<sub>i</sub>, a<sub>i+1</sub>, …, a<sub>j</sub> (1 ≤ i ≤ j ≤ n), dãy có độ dài (j − i + 1) và có trọng số bằng tổng (a<sub>i</sub> + a<sub>i+1</sub> + …+ a<sub>j</sub>).</p>
<p><strong>Yêu cầu:</strong> Tìm hai đoạn con không có phần tử chung, mỗi đoạn có độ dài là một số chia hết cho 3 và tổng trọng số của hai đoạn con là lớn nhất.</p>
<p><strong>Dữ liệu nhập:</strong></p>
<p>- Dòng thứ nhất là số nguyên n (6 ≤ n ≤ 2 x 10<sup>5</sup>).</p>
<p>- Dòng thứ hai là n số nguyên a<sub>1</sub>, a<sub>2</sub>, …, a<sub>n</sub> (|a<sub>i</sub>| ≤ 10<sup>9</sup>), mỗi số cách nhau một khoảng trắng.</p>
<p><strong>Dữ liệu xuất:</strong></p>
<p>- Là tổng trọng số của hai đoạn con tìm được.</p>
</div>
<div class="problem-sample">
<h3>Ví dụ</h3>
<ul>
<li>
<div class="sample-type">input</div>
<div class="sample-value">11 <br/>-1 3 -1 -9 -1 1 1 1 1 1 -9 </div>
<div class="sample-type">output</div>
<div class="sample-value">5</div>
</li>
</ul>
</div>
<div class="problem-explain">
<p>Hai đoạn có tổng lớn nhất là (-1, 3, -1) và (-1, 1, 1, 1, 1, 1)</p>
</div>
</div></body></html>