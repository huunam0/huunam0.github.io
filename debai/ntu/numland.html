<html><body><div class="tm-box2">
<div class="problem-name">
    NUMLAND - Numberland 
</div>



<div class="problem-param">
    Giới hạn thời gian: 2.0 giây
</div>
<div class="problem-param">
    Giới hạn bộ nhớ: 128 megabyte
</div>

<br/>
<div class="problem-content">
<p><span style="font-size:14px"><span style="color:#FF0000"><strong>Đề thi tuyển quân ACM ICPC Đại học Khoa học Tự nhiên TPHCM 2014 - Round 1 (Single)</strong></span></span></p>
<p>Trong đất nước Numberland có N thành phố được đánh số từ 1 đến N và N con đường hai chiều nối giữa các thành phố. Mỗi con đường nối giữa hai thành phố. Từ một thành phố có thể đi đến bất kì thành phố khác thông qua các con đường nối giữa chúng. Có 2 dân tộc đang sinh sống trong N thành phố này, dân tộc Binariers - dùng hệ đếm nhị phân và Decimalers - dùng hệ đếm thập phân. Và vì việc sử dụng 2 hệ đếm khác nhau và dân tộc nào cũng muốn hệ đếm của mình là hệ đếm chính thức của đất nước Numberland cho nên chiến tranh đã xảy ra.</p>
<p>Sau một thời gian dài chiến tranh, cả 2 dân tộc quyết định là sẽ dừng cuộc chiến lại. Mỗi dân tộc sẽ chọn ra một "City-line". Một City-line sẽ bao gồm 2 thành phố mút u, v và tập hợp các thành phố nằm trên đường đi ngắn nhất từ u đến v (bao gồm cả u và v), mỗi thành phố xuất hiện nhiều nhất một lần.</p>
<p>Nhưng nếu 2 City-line được chọn bởi 2 dân tộc có va chạm với nhau, tức là sẽ tồn tại một số thành phố mà nó vừa thuộc City-line của dân tộc Binariers vừa thuộc City-line của dân tộc Decimalers, cả 2 sẽ cảm thấy khó chịu, không bên nào muốn nhường bên nào và khi đó, chiến tranh sẽ nổ ra một lần nữa.</p>
<p>Nhiệm vụ của bạn là với 2 City-line được chọn bởi 2 dân tộc, hãy cho biết hòa bình có được thiết lập hay không hay chiến tranh sẽ nổ ra một lần nữa trên đất nước Numberland.</p>
<p>Dữ liệu nhập:</p>
<p> - Dòng đầu tiên chứa 2 số nguyên dương N, Q - số thành phố của Numberland và số lượng truy vấn. (1 ≤ N, M ≤ 10<sup>5</sup>)</p>
<p> - Dòng thứ i trong N - 1 dòng tiếp theo, mỗi dòng chứa 2 số nguyên dương u, v - con đường nối giữa 2 thành phố u và v (1 ≤ u, v ≤ 10<sup>5</sup>, u ≠ v)</p>
<p> - Q dòng tiếp theo, mỗi dòng chứa 4 số nguyên u, v, x, y - u, v là 2 thành phố mút trên City-line của dân tộc Binariers và x, y là 2 thành phố mút trên City-line của dân tộc Decimalers.</p>
</div>
<div class="problem-sample">
<h3>Ví dụ</h3>
<ul>
<li>
<div class="sample-type">input</div>
<div class="sample-value">5 3<br/>1 2<br/>1 3<br/>3 4<br/>3 5<br/>1 3 4 5<br/>1 2 4 5<br/>1 5 2 4</div>
<div class="sample-type">output</div>
<div class="sample-value">war again<br/>peace<br/>war again</div>
</li>
</ul>
</div>
<div class="problem-explain">
<p>Trong bộ test thứ nhất:</p>
<p> - Truy vấn 1: đường đi ngắn nhất từ 1 đến 3 là {1, 3}, đường đi ngắn nhất từ 4 đến 5 là {4, 3, 5}, như vậy thành phố 3 thuộc cả 2 City-line, kết quả là <strong>war again</strong>.</p>
<p> - Truy vấn 2: đường đi ngắ nhất từ 1 đến 2: {1, 2}, đườn đi ngắn nhất từ 4 đến 5: {4, 3, 5}, kết quả là <strong>peace</strong></p>
<p> - Truy vấn 3: đường đi ngắ nhất từ 1 đến 5: {1, 3, 5}, đường đi ngắn nhất từ 2 đến 4: {2, 1, 3, 4}, kết quả là <strong>war again</strong></p>
<p> </p>
</div>
</div></body></html>