<html><body><div class="tm-box2">
<div class="problem-name">
    TREASURE - Đảo kho báu 
</div>



<div class="problem-param">
    Giới hạn thời gian: 2.0 giây
</div>
<div class="problem-param">
    Giới hạn bộ nhớ: 128 megabyte
</div>

<br/>
<div class="problem-content">
<p><span style="font-family:arial,helvetica,sans-serif"><span style="font-size:14px">Mùa hè vừa rồi, Misaki đến chơi nhà bạn của mình ở một hòn đảo đẹp tuyệt vời. Cô cùng bạn mình có những chuyến vui chơi rất hấp dẫn trên đảo như tắm biển, chơi bóng chuyền, tham quan đảo... Trong thời gian ở đây, Misaki tìm thấy một hòn đảo nhỏ gần nơi của mình, cô liền bơi thuyền đến đó và bắt đầu khám phá. Phát hiện ra hòn đảo này còn rất hoang sơ và hầu như chưa có người đặt chân đến, Misaki quyết định chôn một kho báu bí mật ở đây, sau đó cô trở về tiếp tục cuộc vui chơi.</span></span></p>
<p><span style="font-family:arial,helvetica,sans-serif"><span style="font-size:14px">Cuối đông, Misaki có dịp trở lại hòn đảo của bạn mình, cô định sẽ quay lại hòn đảo mình đã khám phá ra để lấy lại kho báu. Nhưng bây giờ đang là mùa đông nên đường đến hòn đảo đó bị bao phủ bởi rất nhiều tảng băng, cô không thể đến đó ngay được. May thay, vì là cuối mùa đông nên các tảng băng đang tan ra. Mỗi ngày, phần băng tiếp xúc với nước biển hoặc các hòn đảo sẽ bị tan ra trước đến khi cả tảng băng bị tan hết. Có thể xem bản đồ hòn đảo ban đầu và đảo kho báu là một trục tọa độ với tọa độ đảo ban đầu là (u<sub>1</sub>,v<sub>1</sub>) và đảo kho báu là (u<sub>2</sub>,v<sub>2</sub>), giả sử các tảng băng có thể được chia thành các ô vuông nhỏ của trục. Nếu ngày hôm trước tại ô (i, j) là nước biển hay đảo thì sang ngày hôm sau, băng tại bốn ô liền kề (i-1, j), (i+1, j), (i, j-1), (i, j+1) sẽ tan thành nước biển. Nếu Misaki đang ở tại ô (i, j), cô ấy cũng chỉ có thể đi sang một trong bốn ô liền kề (i-1, j), (i+1, j), (i, j-1), (i, j+1). Bạn hãy giúp Misaki tính xem cô phải đợi bao nhiêu ngày để có thể đến được đảo kho báu nhé. Nếu bạn giải được, cô ấy sẽ cho bạn biết kho báu cô ấy chôn ở đó là gì! <img alt="wink" src="http://laptrinh.ntu.edu.vn/Scripts/ckeditorf/plugins/smiley/images/wink_smile.png" style="height:23px; width:23px" title="wink"/> <span style="color:#FFFFFF">(Đùa thôi :v)</span></span></span></p>
<p><span style="font-family:arial,helvetica,sans-serif"><span style="font-size:14px"><strong>Yêu cầu: </strong>Cho bản đồ của các tảng băng và tọa độ hòn đảo ban đầu cũng như đảo kho báu, bạn hãy xác định xem cần bao nhiêu ngày để các tảng băng tan ra để có ít nhất một đường đi từ đảo ban đầu đến đảo kho báu.</span></span></p>
<p><span style="font-family:arial,helvetica,sans-serif"><span style="font-size:14px"><strong>Dữ liệu nhập: </strong></span></span></p>
<p><span style="font-family:arial,helvetica,sans-serif"><span style="font-size:14px">  - Dòng thứ nhất chứa 2 số nguyên N,M là số dòng và cột của bản đồ (1 ≤ N,M ≤ 1000).</span></span></p>
<p><span style="font-family:arial,helvetica,sans-serif"><span style="font-size:14px">  - N dòng tiếp theo, mỗi dòng chứa M số là các số 0,1 với 0 là không có băng và 1 là có. Tại vị trí đảo cũng có giá trị 0.</span></span></p>
<p><span style="font-family:arial,helvetica,sans-serif"><span style="font-size:14px">  - Dòng cuối cùng chứa 4 số nguyên là u<sub>1</sub>,v<sub>1</sub>,u<sub>2</sub>,v<sub>2</sub> với u<sub>1</sub>,v<sub>1</sub> là tọa độ của đảo ban đầu và u<sub>2</sub>,v<sub>2</sub> là tọa độ của đảo kho báu (1 </span></span><span style="font-family:arial,helvetica,sans-serif; font-size:14px">≤ u<sub>1</sub>,u<sub>2</sub> ≤ N , 1 ≤ v<sub>1</sub>,v<sub>2</sub> ≤ M)</span><span style="font-family:arial,helvetica,sans-serif"><span style="font-size:14px">.</span></span></p>
<p><span style="font-family:arial,helvetica,sans-serif"><span style="font-size:14px"><strong>Dữ liệu xuất: </strong></span></span></p>
<p><span style="font-family:arial,helvetica,sans-serif"><span style="font-size:14px">  Gồm 1 số nguyên duy nhất là số ngày cần phải đợi để có đường đi từ đảo ban đầu đến đảo kho báu.</span></span></p>
</div>
<div class="problem-sample">
<h3>Ví dụ</h3>
<ul>
<li>
<div class="sample-type">input</div>
<div class="sample-value">5 7<br/>0 1 1 1 1 1 0<br/>1 1 1 1 1 1 1<br/>1 1 1 0 1 1 1<br/>1 1 1 1 1 1 1<br/>0 1 1 1 1 1 0<br/>1 1 3 4</div>
<div class="sample-type">output</div>
<div class="sample-value">2</div>
</li>
</ul>
</div>
<div class="problem-explain">
<p>Bản đồ băng sau các ngày:</p>
<p>Ngày thứ nhất:                                          Ngày thứ hai:</p>
<p>0  0  1  1  1  0  0                                       0  0  0  0  0  0  0</p>
<p>0  1  1  0  1  1  0                                       0  0  0  0  0  0  0</p>
<p>1  1  0  0  0  1  1                                       0  0  0  0  0  0  0</p>
<p>0  1  1  0  1  1  0                                       0  0  0  0  0  0  0</p>
<p>0  0  1  1  1  0  0                                       0  0  0  0  0  0  0</p>
</div>
</div></body></html>