<html><body><div class="tm-box2">
<div class="problem-name">
    WORDGAME - WORDGAME 
</div>



<div class="problem-param">
    Giới hạn thời gian: 2.0 giây
</div>
<div class="problem-param">
    Giới hạn bộ nhớ: 256 megabyte
</div>

<br/>
<div class="problem-content">
<p>Trò chơi ô chữ được diễn ra trên bảng chữ hình chữ nhật kích thước <em>m</em>×<em>n</em>. Các dòng của bảng được đánh số từ 1 đến <em>m</em>, từ trên xuống dưới, các cột của bảng được đánh số từ 1 đến <em>n</em>, từ trái qua phải. Ô nằm trên giao của dòng <em>i</em> và cột <em>j </em>được gọi là ô (<em>i</em>, <em>j</em>). Mỗi ô của lưới chứa một ký tự.</p>
<p>Khi bắt đầu trò chơi, người chơi sẽ được cho một từ khóa <em>P</em> là một xâu ký tự và nhiệm vụ của người chơi là xuất phát từ ô (1, 1), kết thúc tại ô (<em>m</em>, <em>n</em>) để tìm một đường đi trên bảng chữ chứa từ khoá <em>P</em>. Tại mỗi bước, người chơi có thể di chuyển sang ô kề cạnh bên phải hoặc sang ô kề cạnh bên dưới. Khi kết thúc trò chơi, người chơi nhận được một xâu ký tự <em>T</em> gồm các ký tự trong các ô trên đường đi được xếp liên tiếp nhau. Người chơi giành chiến thắng nếu từ khóa <em>P</em> xuất hiện trong xâu <em>T</em>, nghĩa là từ khoá <em>P</em> trùng với một đoạn gồm các ký tự liên tiếp trong <em>T</em>.</p>
<p><strong>Yêu cầu:</strong> Cho bảng chữ và từ khóa <em>P</em>, đếm số lượng đường đi khác nhau giúp người chơi giành chiến thắng. Hai đường đi được gọi là khác nhau nếu tồn tại một ô thuộc đường đi này nhưng không thuộc đường đi kia.</p>
<p><strong>Dữ liệu: </strong>Vào từ file văn bản WORDGAME.INP:</p>
<ul>
<li>Dòng đầu tiên ghi ba số nguyên dương <em>m</em>,<em> n, D </em>(<em>D ≤ </em>10<sup>9</sup>, m,n &lt;=100)</li>
<li>Dòng thứ hai chứa từ khóa <em>P </em>là một xâu gồm không quá <em>m+n-</em>1 chữ cái in hoa, mỗi chữ cái được lấy trong 26 chữ cái từ ‘A’ đến ‘Z’.</li>
<li>Tiếp đến là<em> m</em> dòng mô tả bảng chữ, mỗi dòng chứa một xâu gồm <em>n </em>ký tự, mỗi ký tự là một chữ cái in hoa trong 26 chữ cái từ ‘A’ đến ‘Z’.</li>
</ul>
<p><strong>Kết quả:</strong> Ghi ra file văn bản WORDGAME.OUT một số là số lượng đường đi đếm được chia dư cho <em>D</em>.</p>
<p><strong>Ví dụ:</strong></p>
<table align="center" border="1" cellpadding="0" cellspacing="0" style="width:404px">
<tbody>
<tr>
<td style="width:229px">
<p>WORDGAME.INP</p>
</td>
<td style="width:175px">
<p>WORDGAME.OUT</p>
</td>
</tr>
<tr>
<td style="height:108px; width:229px">
<p>3 3 10</p>
<p>VOI</p>
<p>VOI</p>
<p>VVV</p>
<p>IOI</p>
</td>
<td style="height:108px; width:175px">
<p>3</p>
</td>
</tr>
</tbody>
</table>
<div> </div>
</div>
<div class="problem-sample">
<h3>Ví dụ</h3>
<ul>
</ul>
</div>
<div class="problem-explain">
</div>
</div></body></html>