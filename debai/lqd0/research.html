<div class="tm-box2">
<div class="problem-name">
    RESEARCH - Dự án nghiên cứu 
</div>



<div class="problem-param">
    Giới hạn thời gian: 1.0 giây
</div>
<div class="problem-param">
    Giới hạn bộ nhớ: 512 megabyte
</div>

<br/>
<div class="problem-content">
<h1 style="text-align: justify;"><span style="font-size:14px">Giáo sư X đang nghiên cứu về hệ sinh thái trên hai hành tinh Alpha và Beta. Nghiên cứu đòi hỏi 𝑛 thí nghiệm đánh số từ 1 tới 𝑛. Mỗi thí nghiệm được gán nhãn bằng một chữ cái ∈ {A,B,C}:</span></h1>
<p style="margin-left: 40px; text-align: justify;"><span style="font-size:14px">A: Thí nghiệm chỉ có thể thực hiện trên hành tinh Alpha<br/>
B: Thí nghiệm chỉ có thể thực hiện trên hành tinh Beta<br/>
C: Thí nghiệm có thể thực hiện trên hành tinh Alpha hay Beta đều được.</span></p>
<p style="margin-left: 0.9pt; text-align: justify;"><span style="font-size:14px">Ngoài ra quy trình thí nghiệm cần phải thỏa mãn 𝑚 ràng buộc. Ràng buộc thứ 𝑖 được cho bởi cặp số nguyên (𝑥<sub>𝑖</sub>, 𝑦<sub>𝑖</sub>) với ý nghĩa: Thí nghiệm 𝑦<sub>𝑖</sub> chỉ có thể thực hiện khi thí nghiệm 𝑥<sub>𝑖</sub> đã xong và cho kết quả.</span></p>
<p style="margin-left: 0.9pt; text-align: justify;"><span style="font-size:14px"><strong>Yêu cầu:</strong> Vì việc đi lại giữa hai hành tinh khá tốn kém và mệt mỏi, hãy lập một kế hoạch làm thí nghiệm cho giáo sư X để số lần di chuyển giữa hai hành tinh Alpha và Beta là nhỏ nhất. Giả sử ban đầu giáo sư X đang ở hành tinh Alpha.</span></p>
<p style="margin-left: 0.9pt; text-align: justify;"><span style="font-size:14px"><strong>Dữ liệu:</strong> </span></p>
<p style="margin-left: 40px; text-align: justify;"><span style="font-size:14px">- Dòng 1 chứa hai số nguyên dương 𝑛, 𝑚 ≤ 10<sup>5</sup> cách nhau bởi dấu cách<br/>
- Dòng 2 chứa 𝑛 ký tự ∈ {A,B,C} liền nhau, ký tự thứ 𝑘 là nhãn của thí nghiệm 𝑘<br/>
- 𝑚 dòng tiếp theo, dòng thứ 𝑖 chứa hai số nguyên 𝑥<sub>𝑖</sub>, 𝑦<sub>𝑖</sub> cách nhau bởi dấu cách ứng với một ràng buộc</span></p>
<p style="text-align: justify;"><span style="font-size:14px"><strong>Kết quả:</strong> </span></p>
<p style="text-align: justify; margin-left: 40px;"><span style="font-size:14px">Ghi ra một số nguyên duy nhất là số lần di chuyển giữa hai hành tinh Alpha và Beta theo phương án tìm được. Ghi số -1 nếu không thể thực hiện được tất cả các thí nghiệm trong nghiên cứu </span></p>
</div>
<div class="problem-sample">
<h3>Ví dụ</h3>
<ul>
</ul>
</div>
<div class="problem-explain">
<p><strong>Input</strong></p>
<p style="margin-left: 40px;">11 12<br/>
AABAABABBBC <img alt="" src="../../ckfinder/userfiles/images/RESEARCH.png" style="float:right; height:285px; width:387px"/><br/>
1 2<br/>
2 3<br/>
2 10<br/>
3 4<br/>
3 11<br/>
7 11<br/>
8 7<br/>
9 10<br/>
10 3<br/>
10 11<br/>
11 5<br/>
11 6</p>
<p><strong>Output</strong></p>
<p style="margin-left: 40px;">3 </p>
<hr/>
<p>Nguồn: LMH '1819</p>
</div>
</div>