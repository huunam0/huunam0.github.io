<div class="tm-box2">
<div class="problem-name">
    ARCHI - Khảo cổ  
</div>



<div class="problem-param">
    Giới hạn thời gian: 1.0 giây
</div>
<div class="problem-param">
    Giới hạn bộ nhớ: 512 megabyte
</div>

<br/>
<div class="problem-content">
<p style="text-align:justify">Các nhà khảo cổ mới phát hiện ra một khu Hoàng Thành được xây dựng từ nhiều thế kỷ trước. Theo nhận định ban đầu, Hoàng Thành gồm nhiều bức tường song song hoặc vuông góc với nhau. Để tiến hành nghiên cứu, các nhà khảo cổ đã xây dựng bản đồ các bức tường của khu Hoàng Thành. Cụ thể, bản đồ được mô tả trên mặt phẳng toạ độ Đề các vuông góc Oxy trong đó các bức tường là các đoạn thẳng song song với một trong hai trục tọa độ. Theo các dữ liệu thu thập được, có n bức tường được đánh số từ 1 đến n. Bức tường thứ i là đoạn thẳng nối từ điểm có tọa độ nguyên (<em>x<sub>i</sub>, y<sub>i</sub></em>) đến điểm có tọa độ nguyên (<em>u<sub>i</sub>, v<sub>i</sub></em>), i = 1, 2, …, n. Hai đoạn thẳng mô tả hai bức tường khác nhau có không quá một điểm chung.</p>
<p style="text-align:justify">Để in bản đồ, các nhà khảo cổ dùng một máy vẽ chuyên dụng hoạt động theo nguyên tắc:</p>
<p style="margin-left:40px; text-align:justify">- Bước 1: Chọn một điểm có tọa độ nguyên, bút vẽ của máy vẽ được kích hoạt để di chuyển và hạ đầu bút xuống điểm này;<br/>
- Bước 2: Bút vẽ di chuyển liên tục song song với một trong hai trục để vẽ các đoạn thẳng mô tả các bức tường trong bản đồ;<br/>
- Bước 3: Nếu đã vẽ xong toàn bộ các bức tường thì kết thúc công việc, trong trường hợp ngược lại, quay về Bước 1 để tiếp tục thực hiện việc vẽ.</p>
<p style="text-align:justify">Hoạt động của máy vẽ được tối ưu hóa sao cho không có đoạn nào được vẽ quá một lần và số lần kích hoạt bút vẽ là ít nhất.</p>
<p style="text-align:justify"><strong>Yêu cầu:</strong> Cho biết các đoạn thẳng mô tả các bức tường, hãy tính số lần kích hoạt bút vẽ ít nhất vẽ được bản đồ mô tả các bức tường của Hoàng Thành.</p>
<p style="text-align:justify"><strong>Input</strong></p>
<p style="margin-left:40px; text-align:justify">- Dòng đầu là số nguyên <em>n (n ≤ 1000)</em> là số lượng bức tường;<br/>
- Dòng thứ <em>i</em> trong số <em>n</em> dòng tiếp theo chứa 4 số nguyên <em>x<sub>i</sub>, y<sub>i</sub>, u<sub>i</sub>, v<sub>i</sub></em> được ghi cách nhau bởi dấu cách (<em>|x<sub>i</sub>|, |y<sub>i</sub>|, |u<sub>i</sub>|, |v<sub>i</sub>|</em> ≤ 1000) là các tọa độ của hai đầu mút của đoạn thẳng mô tả bức tường thứ <em>i</em> (<em>i</em> = 1, 2, …, <em>n</em>).</p>
<p style="text-align:justify"><strong>Output</strong></p>
<p style="margin-left:40px; text-align:justify">- Ghi số nguyên s là số lần kích hoạt bút vẽ.</p>
</div>
<div class="problem-sample">
<h3>Ví dụ</h3>
<ul>
</ul>
</div>
<div class="problem-explain">
<p><strong>Input</strong></p>
<p style="margin-left:40px">6<br/>
2 1 2 4<br/>
2 4 6 4<br/>
6 4 6 1<br/>
6 1 2 1<br/>
4 -1 4 6<br/>
3 2 5 2</p>
<p><strong>Output</strong></p>
<p style="margin-left:40px">2</p>
<p style="margin-left:40px"><img alt="" src="../../ckfinder/userfiles/images/ARCHI.png" style="height:438px; width:445px"/></p>
<p style="margin-left:40px"> </p>
<hr/>
<p><em>Nguồn: 3D 20162017</em></p>
</div>
</div>