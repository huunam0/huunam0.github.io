<div class="tm-box2">
<div class="problem-name">
    PERFECT - Cặp đôi hoàn hảo 
</div>



<div class="problem-param">
    Giới hạn thời gian: 1.0 giây
</div>
<div class="problem-param">
    Giới hạn bộ nhớ: 512 megabyte
</div>

<br/>
<div class="problem-content">
<p style="text-align:justify"> XYZ là một công ty lớn trong lĩnh vực công nghệ phần mềm và tới đây họ chuẩn bị thực hiện một dự án lớn có thể thu lại lợi nhuận khổng lồ cho công ty. XYZ gồm n nhân viên, các nhân viên được đánh số từ 1 đến n, nhân viên thứ i có một chỉ số năng lực đúng bằng i. Tổ chức nhân sự của công ty XYZ có dạng đồ thị cây. Mỗi nhân viên có đúng một <strong>cấp trên trực tiếp</strong>, có một nhân viên duy nhất là tổng giám đốc, không ai là cấp trên của nhân viên này. Ta gọi nhân viên i là <strong>cấp trên</strong> của nhân viên j nếu nhân viên i là cấp trên trực tiếp của nhân viên j, hoặc nhân viên i là cấp trên của nhân viên u và nhân viên u là cấp trên trực tiếp của nhân viên j.</p>
<p style="text-align:justify">Để chuẩn bị tốt việc phân công công việc trong dự án lớn sắp tới, ban lãnh đạo công ty muốn đếm số cặp nhân viên hoàn hảo trong công ty. Hai nhân viên i và j là một cặp đôi hoàn hảo nếu họ thỏa mãn hai điều kiện sau:</p>
<p style="margin-left:40px; text-align:justify">- i là cấp trên của j.<br/>
- Chênh lệch năng lực giữa hai nhân viên không vượt quá k, tức là |i-j|≤k.</p>
<p style="text-align:justify"><strong>Yêu cầu: </strong>Bạn hãy giúp ban lãnh đạo công ty XYZ đếm số cặp đôi hoàn hảo này.</p>
<p style="text-align:justify"><strong>Dữ liệu</strong>:</p>
<p style="margin-left:40px; text-align:justify">- Dòng đầu tiên chứa 2 số nguyên n,k (1 ≤ n, k ≤ 10<sup>5</sup> ).<br/>
- N-1 dòng tiếp theo, mỗi dòng chứa 2 số nguyên u, v (1 ≤ u, v ≤ n) miêu tả mối quan hệ nhân viên u là cấp trên trực tiếp của nhân viên v. Dữ liệu đảm bảo các mối quan hệ trong công ty tạo thành một cấu trúc cây.</p>
<p style="text-align:justify"><strong>Kết quả</strong>:</p>
<p style="margin-left:40px; text-align:justify">Ghi ra một dòng duy nhất là kết quả của bài toán</p>
</div>
<div class="problem-sample">
<h3>Ví dụ</h3>
<ul>
</ul>
</div>
<div class="problem-explain">
<p><strong>Input</strong></p>
<p style="margin-left:40px">5 2<br/>
3 2<br/>
3 1<br/>
1 4<br/>
1 5</p>
<p><strong>Output</strong></p>
<p style="margin-left:40px">4</p>
<p><strong>Input</strong></p>
<p style="margin-left:40px">10 2<br/>
1 4<br/>
1 5<br/>
2 8<br/>
2 9<br/>
3 1<br/>
3 2<br/>
6 3<br/>
7 6<br/>
8 10</p>
<p><strong>Output</strong></p>
<p style="margin-left:40px">12</p>
<p><strong><em>Ràng buộc</em></strong>:</p>
<p style="margin-left:40px">- Có 30% số điểm ứng với n ≤ 300<br/>
- Có 30% số điểm ứng với n ≤ 5000<br/>
- Có 40% số điểm ứng với n ≤ 10<sup>5</sup></p>
<hr/>
<p><em>Nguồn: PREVNOI TEAM 20182019 Ninh Bình</em></p>
</div>
</div>