<div class="tm-box2">
<div class="problem-name">
    DRAW1402H - Định và Uyên (bản khó) 
</div>



<div class="problem-param">
    Giới hạn thời gian: 2.0 giây
</div>
<div class="problem-param">
    Giới hạn bộ nhớ: 256 megabyte
</div>

<br/>
<div class="problem-content">
<p>Sau khi nhận được yêu cầu trợ giúp từ đàn em <span style="color:#008000"><strong>dungde99</strong></span>, anh <span style="color:#800080"><strong>dvh312</strong></span> đã bĩu môi khinh thường độ khó của bài toán và tiến hành "chế biến" nó thành một phiên bản hóc búa hơn như sau:</p>
<p>    Cho hệ trục tọa độ Oxy và <strong>Q</strong> truy vấn, mỗi truy vấn có dạng “A x y” hoặc “Q”:</p>
<div>
<div>
<div>    1. Truy vấn “A x y” yêu cầu chấm thêm điểm (x, y) lên mặt phẳng toạ độ</div>
</div>
</div>
<div>
<div>    2. Truy vấn "Q" yêu cầu in ra độ dài lớn nhất của dãy chỉ số <strong>i</strong><sub>1</sub>, <strong>i</strong><sub>2</sub>,..., <strong>i</strong><sub>k</sub> sao cho <strong>i</strong><sub>1</sub> &lt; <strong>i</strong><sub>2</sub> &lt; ... &lt; <strong>i</strong><sub>k</sub> và <strong>x</strong><sub><strong>i</strong>1</sub> &lt; <strong>x</strong><sub><strong>i</strong>2</sub> &lt; ... &lt; <strong>x</strong><sub><strong>ik</strong></sub> cũng như <strong>y</strong><sub><strong>i</strong>1</sub> &lt; <strong>y</strong><sub><strong>i</strong>2</sub> &lt; ... &lt; <strong>y</strong><sub><strong>ik</strong></sub>.</div>
<div>    Bạn hãy thử sức trước bài toán lý thú của anh <span style="color:#800080"><strong>dvh312</strong></span> nhé! </div>
<div> </div>
<div><u><strong>Định dạng input:</strong></u></div>
<div>- Dòng đầu chứa số nguyên dương <strong>Q</strong>.</div>
<div>- Dòng thứ <strong>i</strong> trong <strong>Q</strong> dòng sau có dạng "A x<strong><sub>i</sub></strong> y<sub><strong>i</strong></sub>" nếu truy vấn thứ <strong>i</strong> thuộc loại thứ nhất hoặc "Q" nếu trong trường hợp ngược lại.</div>
<div> </div>
<div><u><strong>Định dạng output:</strong></u></div>
<div>- Với mỗi truy vấn "Q," in ra một số nguyên là kết quả của truy vấn đó. Mỗi câu trả lời được in trên một dòng riêng biệt theo thứ tự xuất hiện trong input. Nếu gặp phải truy vấn "Q" khi chưa có điểm nào được chấm lên mặt phẳng tọa độ thì in ra <strong>0</strong>.</div>
<div> </div>
<div><strong>Ràng buộc:</strong></div>
</div>
<div>
<div>
<div>- <strong>Q</strong> <span style="color:rgb(35, 35, 35); font-family:verdana,helvetica,sans-serif; font-size:12.8px">≤</span> 2*10<sup>5</sup>.</div>
<div>- 1 <span style="color:rgb(35, 35, 35); font-family:verdana,helvetica,sans-serif; font-size:12.8px">≤ </span><strong>x<sub>i</sub></strong>, <strong>y<sub>i</sub></strong> <span style="color:rgb(35, 35, 35); font-family:verdana,helvetica,sans-serif; font-size:12.8px">≤</span> 1000 với mọi <strong>i</strong>.</div>
<div> </div>
</div>
</div>
</div>
<div class="problem-sample">
<h3>Ví dụ</h3>
<ul>
<li>
<div class="sample-type">input</div>
<div class="sample-value">7<br/>A 1 4<br/>A 2 2<br/>Q<br/>A 2 1<br/>A 1 1<br/>A 3 4<br/>Q</div>
<div class="sample-type">output</div>
<div class="sample-value">1<br/>2</div>
</li>
</ul>
</div>
<div class="problem-explain">
</div>
</div>