<div class="tm-box2">
<div class="problem-name">
    821E - Okabe and El Psy Kongroo 
</div>



<div class="problem-param">
    Giới hạn thời gian: 1.0 giây
</div>
<div class="problem-param">
    Giới hạn bộ nhớ: 512 megabyte
</div>

<br/>
<div class="problem-content">
<p style="text-align: justify;"><span style="font-size:14px">Okabe thích đi bộ nhưng biết rằng gián điệp có thể ở bất cứ đâu; đó chính là lý do tại sao anh ấy muốn biết có bao nhiêu cách khác nhau mà anh ta có thể đi trong thành phố của mình một cách an toàn. Thành phố của Okabe có thể được biểu diễn bởi các điểm (x, y) sao cho x và y không âm. Okabe bắt đầu đi tại điểm gốc (điểm (0, 0)) và cần đi đến điểm (k, 0). Nếu Okabe đang ở điểm (x, y), trong một bước anh ta có thể đi đến (x + 1, y + 1), (x + 1, y), hoặc (x + 1, y - 1).</span></p>
<p style="text-align: justify;"><span style="font-size:14px">Ngoài ra, có n đoạn đường ngang, đoạn thứ i từ x=a<sub>i</sub> đến x=b<sub>i</sub> và ở tung độ y=c<sub>i</sub>. Luôn đảm bảo rằng a<sub>1</sub>=0, a<sub>n</sub> ≤ k ≤ b<sub>n</sub> và a<sub>i</sub>=b<sub>i-1</sub> với 2 ≤ i ≤ n. Đoạn đường thứ i buộc Okabe phải đi với giá trị y trong phạm vi 0 ≤ y ≤ c<sub>i</sub>, còn giá trị x phải thoả mãn <em>a<sub>i</sub></em> ≤ <em>x</em> ≤ <em>b<sub>i</sub></em>, nếu không anh ta có thể bị theo dõi. Điều này cũng có nghĩa là anh ta bắt buộc phải ở dưới hai đoạn đường khi một đoạn đường kết thúc và một đoạn khác bắt đầu.</span></p>
<p style="text-align: justify;"><span style="font-size:14px">Okabe muốn biết có bao nhiêu cách đi an toàn từ điểm đầu (0,0) tới điểm (k,0), kết quả modulo 10<sup>9</sup> + 7.</span></p>
<p style="text-align: justify;"><span style="font-size:14px"><strong><em>Input:</em></strong></span></p>
<p style="text-align: justify;"><span style="font-size:14px">Dòng đầu chứa hai số nguyên n và k (1 ≤ <em>n</em> ≤ 100, 1 ≤ <em>k</em> ≤ 10<sup>18</sup>) là số đoạn đường ngang và tọa độ x của điểm kết thúc.</span></p>
<p style="text-align: justify;"><span style="font-size:14px">N dòng tiếp theo, mỗi dòng chứa 3 số nguyên a<sub>i</sub>, b<sub>i</sub> và c<sub>i</sub> (0 ≤ <em>a<sub>i</sub></em> &lt; <em>b<sub>i</sub></em> ≤ 10<sup>18</sup>, 0 ≤ <em>c<sub>i</sub></em> ≤ 15) tương ứng là hoành độ đầu mút trái, hoành độ đầu mút phải, tung độ của một đoạn đường ngang.</span></p>
<p style="text-align: justify;"><span style="font-size:14px">Dữ liệu luôn đảm bảo rằng <em>a</em><sub>1</sub> = 0, <em>a<sub>n</sub></em> ≤ <em>k</em> ≤ <em>b<sub>n</sub></em>, và <em>a<sub>i</sub></em> = <em>b<sub>i</sub></em><sub> - 1</sub>  với  2 ≤ <em>i</em> ≤ <em>n</em>.</span></p>
<p style="text-align: justify;"><span style="font-size:14px"><strong><em>Output:</em></strong></span></p>
<p style="text-align: justify;"><span style="font-size:14px">Ghi số lượng cách đi thỏa mãn điều kiện, kết quả modulo 10<sup>9</sup> + 7.</span></p>
</div>
<div class="problem-sample">
<h3>Ví dụ</h3>
<ul>
</ul>
</div>
<div class="problem-explain">
<p><img alt="" src="../../ckfinder/userfiles/images/821E1.png" style="height:271px; width:550px"/></p>
<p><img alt="" src="../../ckfinder/userfiles/images/821E2.png" style="height:323px; width:550px"/></p>
<hr/>
<p><em>Nguồn: <a href="https://codeforces.com/contest/821/problem/E">https://codeforces.com/contest/821/problem/E</a></em></p>
</div>
</div>