<div class="tm-box2">
<div class="problem-name">
    ONE4EVER - Forever Alone Person 
</div>



<div class="problem-param">
    Giới hạn thời gian: 1.0 giây
</div>
<div class="problem-param">
    Giới hạn bộ nhớ: 512 megabyte
</div>

<br/>
<div class="problem-content">
<p style="text-align: justify;"><span style="font-size:14px">Dù thông minh, đẹp trai, học giỏi nhưng vẫn không thoát khỏi kiếp FA vì chỉ có 8cm và lười tắm, Khánh 3508 lại buồn bã trở về vnoi code lại từ đầu. Trong một ngày chán như con gián, Khánh 3508 nhổ trộm bông hướng dương nhà hàng xóm và ngồi … đếm cánh hoa. Mỗi lần một cánh hoa rụng xuống là câu nói “Tắm”, “Không tắm” lại vang lên. Đã ba năm trôi qua Khánh 3508 vẫn chỉ ngồi đếm lá và chưa tắm rồi đột nhiên anh ta đứng lên và chạy về máy tính: “Đúng rồi số ngẫu nhiên!”. Hóa ra Khánh 3508 đã nghĩ ra cách làm mới mà không phải nhổ trộm hoa + ngồi đếm số cánh hoa. Chúng ta biết rằng số ngẫu nhiên được sinh ra bởi bộ ba số a, b, m theo quy tắc:</span></p>
<p style="text-align: justify; margin-left: 40px;"><span style="font-size:14px">+Số thứ nhất là<em> x<sub>1 </sub>=b mod m</em><br/>
+Số thứ <em>k </em>là <em>(a*x<sub>k-1 </sub>+b) mod m</em> với <em>k&gt;1</em></span></p>
<p style="text-align: justify;"><span style="font-size:14px">Khánh 3508 sẽ lấy số<em> x</em><sub><em>k</em> </sub>để so với lịch xem nó có phải ngày đẹp hay không để quyết định tắm rửa. Tuy nhiên do thích chơi trội Khánh 3508 đã để <em>a, b, m, k</em> rất lớn khiến máy tính bị đơ. Bạn hãy giúp Khánh tính <em>x</em><sub><em>k</em> </sub>thật nhanh để cậu ta có thể tắm.</span></p>
<p style="text-align: justify;"><span style="font-size:14px"><strong>Dữ liệu</strong></span></p>
<ul>
<li style="text-align: justify;"><span style="font-size:14px">Dòng 1: Số nguyên <em>T</em> (1≤<em>T</em>≤10) là số lượng test</span></li>
<li style="text-align: justify;"><span style="font-size:14px"><em>T</em> dòng tiếp theo, mỗi dòng gồm 4 số nguyên <em>a, b, m, k (1≤a, b, m, k≤10<sup>15</sup>)</em></span></li>
</ul>
<p style="text-align: justify;"><span style="font-size:14px"><strong>Kết quả</strong></span></p>
<ul>
<li style="text-align: justify;"><span style="font-size:14px">Gồm <em>T</em> dòng, mỗi dòng in ra số<em> x<sub>k</sub></em> tương ứng.</span></li>
</ul>
</div>
<div class="problem-sample">
<h3>Ví dụ</h3>
<ul>
</ul>
</div>
<div class="problem-explain">
<p style="text-align:justify"><span style="font-size:14px"><strong>Input<em>:</em></strong></span></p>
<p style="text-align:justify"> </p>
<p style="text-align: justify; margin-left: 40px;"><span style="font-size:14px">3<br/>
1 1 1 1<br/>
2 5 100 6<br/>
1 8 777 6</span></p>
<p style="text-align:justify"><span style="font-size:14px"><strong>Output<em>:</em></strong></span></p>
<p style="text-align: justify; margin-left: 40px;"><span style="font-size:14px">0<br/>
15<br/>
48</span></p>
<hr/>
<p><span style="font-size:14px"><em>Nguồn: vn.spoj.com</em></span></p>
</div>
</div>