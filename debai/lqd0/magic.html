<div class="tm-box2">
<div class="problem-name">
    MAGIC  - MAGIC  
</div>



<div class="problem-param">
    Giới hạn thời gian: 1.0 giây
</div>
<div class="problem-param">
    Giới hạn bộ nhớ: 512 megabyte
</div>

<br/>
<div class="problem-content">
<p style="text-align: justify;">Kế tục thành công của trò chơi với khối lập phương thần bí, ngài Rubik sáng tạo ra dạng phẳng của trò chơi này gọi là trò chơi các ô vuông thần bí. Đây là một bảng gồm 8 ô vuông bằng nhau. Trong bài này chúng ta xét bảng trong đó mỗi ô vuông có một màu khác nhau. Các mầu được ký hiệu bởi 8 số nguyên dương đầu tiên. Trạng thái của bảng được cho bởi dãy ký hiệu màu của các ô được viết lần lượt theo chiều kim đồng hồ bắt đầu từ ô ở góc trái trên và kết thúc tại ô ở góc trái dưới. Ví dụ, trạng thái của bảng trong hình 1 được cho bởi dãy (1,2,3,4,5,6,7,8). Trạng thái này được gọi là trạng thái khởi đầu.</p>
<p style="text-align: justify;">Có thể dùng 3 phép biến đổi cơ bản đối với bảng có tên là 'A','B','C':</p>
<p style="text-align: justify; margin-left: 40px;">'A': Đổi chỗ dòng trên và dòng dưới.<br/>
'B': Thực hiện một hoán vị vòng quanh sang phải.<br/>
'C': Quay theo chiều kim đồng hồ 4 ô giữa.</p>
<p style="text-align: justify;">Biết rằng từ trạng thái khởi đầu luôn có thể chuyển về một trạng thái bất kỳ bằng cách dùng các phép biến đổi cơ bản nói trên.</p>
<p style="text-align: justify;">Tác động của 3 phép biến đổi được mô tả trong hình 2, với giả thiết trước khi thực hiện một phép biến đổi bất kỳ bảng đều đang ở trạng thái khởi đầu.</p>
<p style="text-align: justify; margin-left: 40px;"><span style="font-size:14px"><span style="font-family:courier new,courier,monospace">Hình 1:        Hình 2: </span></span></p>
<p style="text-align: justify; margin-left: 40px;"><span style="font-size:14px"><span style="font-family:courier new,courier,monospace">1 2 3 4 -----&gt; 8 7 6 5<br/>
8 7 6 5   A    1 2 3 4 </span></span></p>
<p style="text-align: justify; margin-left: 40px;"><span style="font-size:14px"><span style="font-family:courier new,courier,monospace">        -----&gt; 4 1 2 3<br/>
          B    5 8 7 6 </span></span></p>
<p style="text-align: justify; margin-left: 40px;"><span style="font-size:14px"><span style="font-family:courier new,courier,monospace">        -----&gt; 1 7 2 4<br/>
          C    8 6 3 5</span></span></p>
<p style="text-align: justify;">Bạn phải viết chương trình tính số phép biến đổi cơ bản ít nhất để chuyển bảng từ trạng thái khởi đầu trong hình 1 về một trạng thái đích cho trước.</p>
<p style="text-align: justify;"><strong>Dữ liệu vào</strong>:</p>
<p style="text-align: justify; margin-left: 40px;">Chứa 8 số nguyên dương trong dòng đầu tiên mô tả trạng thái đích.</p>
<p style="text-align: justify;"><strong>Kết quả ra</strong>:</p>
<p style="text-align: justify; margin-left: 40px;">Số phép biến đổi ít nhất. </p>
</div>
<div class="problem-sample">
<h3>Ví dụ</h3>
<ul>
</ul>
</div>
<div class="problem-explain">
<p><strong>Input</strong></p>
<p style="margin-left: 40px;">2 6 8 4 5 7 3 1</p>
<p><strong>Output</strong></p>
<p style="margin-left: 40px;">7</p>
<hr/>
<p><em>Nguồn: 3D 20172018</em></p>
</div>
</div>